options {
    directory "/var/cache/bind";

    listen-on { any; };
    listen-on-v6 { any; };

    recursion yes;
    allow-query { any; };
    allow-recursion { any; };

    # Use Docker's built-in DNS server as an upstream server for all zones that we don't manage ourselves.
    forwarders {
        127.0.0.11;
    };

    # Docker's built-in DNS server doesn't support DNSSEC, so we need to disable DNSSEC to get forwarding working.
    dnssec-validation no;
};

zone "local.gardener.cloud" {
    type master;
    file "/var/lib/bind/db.local.gardener.cloud";

    # For simplicity, we allow updates from any source. This is a local development setup, where security is not a
    # concern. We spare the effort to set up update keys.
    allow-update { any; };
};
