replicaCount: 1
config:
  gardenClientConnection:
    kubeconfigSecret:
      name: gardenlet-kubeconfig
      namespace: garden
    bootstrapKubeconfig:
      name: gardenlet-kubeconfig-bootstrap
      namespace: garden
      kubeconfig: |
        apiVersion: v1
        kind: Config
        current-context: gardenlet-bootstrap
        clusters:
        - cluster:
            insecure-skip-tls-verify: true
            # We use the kind node's hostname (docker container name) as the garden cluster address.
            # This works from within the kind cluster itself, from within ManagedSeeds, and from within additional kind clusters.
            # Note that this doesn't work in IPv6 single-stack kind clusters,
            # ref https://github.com/kubernetes-sigs/kind/issues/3114
            server: https://garden.local.gardener.cloud:6443
          name: default
        contexts:
        - context:
            cluster: default
            user: gardenlet-bootstrap
          name: gardenlet-bootstrap
        users:
        - name: gardenlet-bootstrap
          user:
            token: 07401b.f395accd246ae52d
  controllers:
    shoot:
      reconcileInMaintenanceOnly: true
      respectSyncPeriodOverwrite: true
    shootState:
      concurrentSyncs: 0 # we don't need the shootstate controller locally, and enabling it would even distort the results of CPM e2e tests
  featureGates:
    DefaultSeccompProfile: true
    # Enable IPv6SingleStack to allow creating IPv6 seed clusters without changing the config.
    # This feature gate doesn't change gardenlet's default behavior, it only allows setting `ipFamilies=[IPv6]` in the
    # Seed config. Only when this is set, gardenlet's behavior changes.
    IPv6SingleStack: true
    ShootManagedIssuer: true
    NewWorkerPoolHash: true
    NewVPN: true
  etcdConfig:
    featureGates:
      UseEtcdWrapper: true
  logging:
    enabled: true
    vali:
      enabled: true
    shootNodeLogging:
      shootPurposes:
      - "infrastructure"
      - "production"
      - "development"
      - "evaluation"
  seedConfig:
    apiVersion: core.gardener.cloud/v1beta1
    kind: Seed
    metadata:
      name: local
      labels:
        base: kind
    spec:
      backup:
        provider: local
        region: local
        secretRef:
          name: backup-local
          namespace: garden
      provider:
        type: local
        region: local
        zones:
        - "0"
      dns:
        provider:
          type: local
          secretRef:
            name: internal-domain-internal-local-gardener-cloud
            namespace: garden
      ingress:
        domain: ingress.local.seed.local.gardener.cloud
        controller:
          kind: nginx
      networks:
        nodes: 172.18.0.0/16
        # Those CIDRs must match those specified in the kind Cluster configuration.
        pods: 10.1.0.0/16
        services: 10.2.0.0/16
        shootDefaults:
          pods: 10.3.0.0/16
          services: 10.4.0.0/16
      settings:
        excessCapacityReservation:
          enabled: false
        scheduling:
          visible: true
        verticalPodAutoscaler:
          enabled: true
